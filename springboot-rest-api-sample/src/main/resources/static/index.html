<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="ISO-8859-1">
		<title>Insert title here</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
	</head>
<body>
	<form action="" id="formCadastroUser">
	  <div class="mb-3">
	    <label for="id" class="form-label">ID</label>
	    <input type="text" class="form-control" id="id" readonly="readonly">
	  </div>
	  
	  <div class="mb-3">
	    <label for="nome" class="form-label">Nome</label>
	    <input type="text" class="form-control" id="nome">
	  </div>
	  
	  <div class="mb-3">
	    <label for="idade" class="form-label">Idade</label>
	    <input type="number" class="form-control" id="idade">
	  </div>
	  <button type="submit" class="btn btn-primary" onclick="salvarUsuario()">Salvar</button>
	  <button type="submit" class="btn btn-secondary" onclick="document.getElementById('formCadastroUser').reset()">Novo</button>
	 </form>
	
	<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
	<script>
		function salvarUsuario(){
			var id = $("#id").val();
			var nome = $("#nome").val();
			var idade = $("#idade").val();
			
			$.ajax({
				method: "POST",
				url: "salvar",
				data: JSON.stringify({id: id, nome: nome, idade: idade}),
				contentType: "application/json; charset=utf-8",
				success: function (response){
					$("#id").val(response.id)
					alert("Salvo com sucesso!");
				}
			}).fail(function(xhr, status, errorThrown){
				alert("Erro ao salvar: " + xhr.responseText);
			});
		}
	</script>
</body>
</html>